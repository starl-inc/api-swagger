swagger: "2.0"
info:
  description: "This is API Document of Minnano-Jisuikun"
  version: "1.0.0"
  title: "Minna-No-Jisuikun API Document"
  contact:
    email: "sato-keiju@kcgrp.jp"
host: "hostName"
basePath: "/basePath"

tags:
  - name: "User"
    description: "Access to User Information"
  - name: "Sign"
    description: "Sign up, sign in, and sign out"
  - name: "Calibrate"
    description: "Post selected recipes"
  - name: "Recipe"
    description: "Access to recipe Information"
  - name: "Food"
    description: "Access to Food Information"
  - name: "Cart"
    description: "Access to Cart Information"
  - name: "Order"
    description: "Access to order Information"
  - name: "Favorite"
    description: "Access to favorite recipes Information"
  - name: "Record"
    description: "Access to cooking record Information"
  - name: "Jisui-Power"
    description: "Access to Jisui-Power Information"
  - name: "Health"
    description: "Health check"

schemes:
  - "https"

securityDefinitions:
  cookieAuth:
    type: "apiKey"
    in: "header"
    name: "sessionId"

paths:
  # -------------------- User ----------------------
  /v1/user:
    get:
      tags:
        - "User"
      summary: "Get all users"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "object"
            properties:
              id:
                type: "integer"
                example: 1
              name:
                type: "string"
                example: "自炊太郎"
              email:
                type: "string"
                example: "hoge@gmail.com"
              postcode:
                type: "string"
                example: "1112222"
              address:
                type: "string"
                example: "東京都千代田区1-1"
              card_last4:
                type: "string"
                example: "3332"
              phone:
                type: "string"
                example: "08011112222"
              avatar_url:
                type: "string"
                example: "https://hoge.com/aaa.png"
              allow_order_mail:
                type: "boolean"
                example: true
              allow_notification_mail:
                type: "boolean"
                example: false

        "401":
          description: "Unauthorized"
        "404":
          description: "User Not Found"
    put:
      tags:
        - "User"
      summary: "Update attributes of user resource"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      parameters:
        - name: "body"
          in: "body"
          description: "Latest user object"
          required: true
          schema:
            type: "object"
            properties:
              address:
                type: "string"
                example: "大阪府大阪市阿倍野区阿倍野筋1丁目1−43"
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "object"
            properties:
              id:
                type: "integer"
                example: 1
              name:
                type: "string"
                example: "自炊太郎"
              email:
                type: "string"
                example: "hoge@gmail.com"
              postcode:
                type: "string"
                example: "1112222"
              address:
                type: "string"
                example: "大阪府大阪市阿倍野区阿倍野筋1丁目1−43"
              card_last4:
                type: "string"
                example: "3332"
              phone:
                type: "string"
                example: "08011112222"
              avatar_url:
                type: "string"
                example: "https://hoge.com/aaa.png"
              allow_order_mail:
                type: "boolean"
                example: true
              allow_notification_mail:
                type: "boolean"
                example: false
        "400":
          description: "Bad Request"
        "401":
          description: "Unauthorized"
        "404":
          description: "User Not Found"

    delete:
      tags:
        - "User"
      summary: "Delete user"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      parameters:
        - name: "body"
          in: "body"
          description: "password"
          required: true
          schema:
            type: "object"
            properties:
              password:
                type: "string"
                example: "password"
      responses:
        "200":
          description: "Successful Operation"
        "401":
          description: "Unauthorized"

  /v1/user/passwordReset:
    post:
      tags:
        - "User"
      summary: "Reset password"
      description: "WIP パスワードリセットの流れを調べないといけない。優先順位低"
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      parameters:
        - name: "body"
          in: "body"
          description: "New password"
          required: true
          schema:
            type: "object"
            required:
              - "newPassword"
            properties:
              newPassword:
                type: "string"
                example: "hogehogehoge"
      responses:
        "201":
          description: "Successful Operation"
        "400":
          description: "Bad Request"
        "401":
          description: "Unauthorized"
  /v1/user/avatar:
    post:
      tags:
        - "User"
      summary: Uploading a media attachment
      description: ""
      operationId: addMedia

      consumes:
        - multipart/form-data
      parameters:
        - in: formData
          name: file
          type: file
          description: The file to upload.
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "object"
            properties:
              avatar_url:
                type: "string"
                example: "https://hoge.com/aaa.png"
        "400":
          description: "Bad Request"
        "401":
          description: "Unauthorized"

  # -------------------- Sign ----------------------
  /v1/signUp:
    post:
      tags:
        - "Sign"
      summary: "Send new user's information to sign up"
      description: ""
      operationId: ""
      produces:
        - "application/json"
      parameters:
        - name: "body"
          in: "body"
          description: "information to create new user"
          required: true
          schema:
            type: "object"
            required:
              - "name"
              - "email"
              - "password"
            properties:
              name:
                type: "string"
                example: "jisuitarou"
              email:
                type: "string"
                example: "jisuitarou@example.com"
              password:
                type: "string"
                example: "hogehoge1234"
      responses:
        "201":
          description: "Successful Operation"
          schema:
            type: "object"
            properties:
              usersub:
                type: "string"
                example: "8b322172-d5bc-411f-937b-67d7369b7199"
        "400":
          description: "Bad Request"

  /v1/signIn:
    post:
      tags:
        - "Sign"
      summary: "Send user's information to sign in"
      description: ""
      operationId: ""
      produces:
        - "application/json"
      parameters:
        - name: "body"
          in: "body"
          description: "information to validate existing user"
          required: true
          schema:
            type: "object"
            required:
              - "email"
              - "password"
            properties:
              email:
                type: "string"
                example: "jisuitarou@example.com"
              password:
                type: "string"
                example: "hogehoge1234"
      responses:
        "201":
          description: "Successful Operation"
          schema:
            type: "object"
            properties:
              id:
                type: "integer"
                example: "1"
              name:
                type: "string"
                example: "自炊太郎"
        "400":
          description: "Bad Request"
        "404":
          description: "User Not Found"
  /v1/oneTimePassword:
    post:
      tags:
        - "Sign"
      summary: "onetime password for email validation"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      parameters:
        - name: "body"
          in: "body"
          description: "New password"
          required: true
          schema:
            type: "object"
            required:
              - "usersub"
              - "otp"
            properties:
              usersub:
                type: "string"
                example: "8b322172-d5bc-411f-937b-67d7369b7199"
              otp:
                type: "string"
                example: "12345"
      responses:
        "201":
          description: "Successful Operation"
          schema:
            type: "object"
            properties:
              id:
                type: "integer"
                example: "1"
              name:
                type: "string"
                example: "自炊太郎"

        "400":
          description: "Bad Request"
        "401":
          description: "Unauthorized"
  /v1/signOut:
    get:
      tags:
        - "Sign"
      summary: "Sign out"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      responses:
        "200":
          description: "Successful Operation"
        "401":
          description: "Unauthorized"

  
  # -------------------- recipe ----------------------

  /v1/recipes/public:
    get:
      tags:
        - "Recipe"
      summary: "Get recipe summary information"
      description: ""
      operationId: ""
      produces:
        - "application/json"
      parameters:
        - name: "recommendation"
          in: "query"
          description: "おすすめを返すか？ =1が入ったときだけtrue"
          type: "integer"
        - name: "popular"
          in: "query"
          description: "人気を返すするか？ =1が入ったときだけtrue"
          type: "integer"
        - name: "latest"
          in: "query"
          description: "新着を返すか？ =1が入ったときだけtrue"
          type: "integer"
        - name: "ordered"
          in: "query"
          description: "注文済みを返すか？ =1が入ったときだけtrue"
          type: "integer"
        - name: "searchq"
          in: "query"
          description: "検索クエリ"
          type: "string"
        - name: "limit"
          in: "query"
          description: "表示件数"
          type: "integer"
        - name: "offset"
          in: "query"
          description: "オフセット"
          type: "integer"
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "array"
            items:
              type: "object"
              properties:
                id:
                  type: "integer"
                  example: 1
                name:
                  type: "string"
                  example: "こだわりのハンバーグ"
                information:
                  type: "string"
                  example: "hogehoge"
                thumbnail_url:
                  type: "string"
                  example: "http://hoge.com/aa.png"
                liked:
                  type: "boolean"
                  example: false
        "404":
          description: "Recipe Not Found"
  /v1/recipes:
    get:
      tags:
        - "Recipe"
      summary: "Get recipe summary information"
      description: ""
      operationId: ""
      produces:
        - "application/json"
      security:
        - cookieAuth: []        
      parameters:
        - name: "recommendation"
          in: "query"
          description: "おすすめを返すか？ =1が入ったときだけtrue"
          type: "integer"
        - name: "popular"
          in: "query"
          description: "人気を返すするか？ =1が入ったときだけtrue"
          type: "integer"
        - name: "latest"
          in: "query"
          description: "新着を返すか？ =1が入ったときだけtrue"
          type: "integer"
        - name: "ordered"
          in: "query"
          description: "注文済みを返すか？ =1が入ったときだけtrue"
          type: "integer"
        - name: "searchq"
          in: "query"
          description: "検索クエリ"
          type: "string"
        - name: "limit"
          in: "query"
          description: "表示件数"
          type: "integer"
        - name: "offset"
          in: "query"
          description: "オフセット"
          type: "integer"
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "array"
            items:
              type: "object"
              properties:
                id:
                  type: "integer"
                  example: 1
                name:
                  type: "string"
                  example: "こだわりのハンバーグ"
                information:
                  type: "string"
                  example: "hogehoge"
                thumbnail_url:
                  type: "string"
                  example: "http://hoge.com/aa.png"
                liked:
                  type: "boolean"
                  example: false
        "404":
          description: "Recipe Not Found"

  /v1/recipes/public/{recipeId}:
    get:
      tags:
        - "Recipe"
      summary: "Get recipe detail information by recipe ID"
      description: ""
      operationId: ""
      produces:
        - "application/json"
      parameters:
        - name: "recipeId"
          in: "path"
          description: "Recipe ID"
          required: true
          type: "string"
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "object"
            properties:
              id:
                type: "integer"
                example: 1
              name:
                type: "string"
                example: "こだわりのハンバーグ"
              description:
                type: "string"
                example: "とてもうまい"                
              thumbnail_url:
                type: "string"
                example: "http://hoge.com/aa.png"
              time_hour:
                type: "integer"
                example: 1
              time_minutes:
                type: "integer"
                example: 20
              price:
                type: "integer"
                example: 1200
              energy:
                type: "integer"
                example: 400
              liked:
                type: "boolean"
                example: false
              movie_url:
                type: "string"
                example: "http://hoge.com/aa.mov"
              genre:
                type: "string"
                example: "和食"
              ingredients:
                type: "array"
                items:
                  type: "object"
                  properties:
                    id:
                      type: "integer"
                      example: 1
                    name:
                      type: "string"
                      example: "じゃがいも"
                    amount:
                      type: "string"
                      example: "少々"
                    unit:
                      type: "string"
                      example: ""
                    energy:
                      type: "integer"
                      example: 130
                    price:
                      type: "integer"
                      example: 100

              procedure:
                type: "array"
                items:
                  type: "object"
                  properties:
                    procedure_number:
                      type: "integer"
                      example: 1
                    title:
                      type: "string"
                      example: "刻む"
                    description:
                      type: "string"
                      example: "ミンチ肉を良い感じに刻みまくります"
                    image_url:
                      type: "string"
                      example: "http://hoge.com/aa.png"
        "404":
          description: "Recipe Not Found"

  /v1/recipes/{recipeId}:
    get:
      tags:
        - "Recipe"
      summary: "Get recipe detail information by recipe ID"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []      
      produces:
        - "application/json"
      parameters:
        - name: "recipeId"
          in: "path"
          description: "Recipe ID"
          required: true
          type: "string"
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "object"
            properties:
              id:
                type: "integer"
                example: 1
              name:
                type: "string"
                example: "こだわりのハンバーグ"
              description:
                type: "string"
                example: "とてもうまい"                
              thumbnail_url:
                type: "string"
                example: "http://hoge.com/aa.png"
              time_hour:
                type: "integer"
                example: 1
              time_minutes:
                type: "integer"
                example: 20
              price:
                type: "integer"
                example: 1200
              energy:
                type: "integer"
                example: 400
              liked:
                type: "boolean"
                example: false
              movie_url:
                type: "string"
                example: "http://hoge.com/aa.mov"
              genre:
                type: "string"
                example: "和食"
              ingredients:
                type: "array"
                items:
                  type: "object"
                  properties:
                    id:
                      type: "integer"
                      example: 1
                    name:
                      type: "string"
                      example: "じゃがいも"
                    amount:
                      type: "string"
                      example: "少々"
                    unit:
                      type: "string"
                      example: ""
                    energy:
                      type: "integer"
                      example: 130
                    price:
                      type: "integer"
                      example: 100

              procedure:
                type: "array"
                items:
                  type: "object"
                  properties:
                    procedure_number:
                      type: "integer"
                      example: 1
                    title:
                      type: "string"
                      example: "刻む"
                    description:
                      type: "string"
                      example: "ミンチ肉を良い感じに刻みまくります"
                    image_url:
                      type: "string"
                      example: "http://hoge.com/aa.png"
        "404":
          description: "Recipe Not Found"

  # -------------------- Cart ----------------------
  /v1/cart:
    get:
      tags:
        - "Cart"
      summary: "Get all recipes in cart"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "array"
            example:
              [
                {
                  "recipe":
                    {
                      "cart_recipe_id": 22,
                      "recipe_id": 2233,
                      "name": "ハンバーグ",
                      "price": 100,
                      "thumbnail_url": "http://hoge.com/aa.png",
                    },
                  "count": 2,
                },
                {
                  "recipe":
                    {
                      "cart_recipe_id": 49,
                      "recipe_id": 2233,
                      "name": "きしめん",
                      "price": 20,
                      "thumbnail_url": "http://hoge.com/aa.png",
                    },
                  "count": 1,
                },
              ]
        "401":
          description: "Unauthorized"

    post:
      tags:
        - "Cart"
      summary: "Add new recipe to cart"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      parameters:
        - name: "omakase"
          in: "query"
          description: "お任せ選択か？ =1が入ったときだけtrue"
          type: "integer"
        - name: "genre"
          in: "query"
          description: "お任せのジャンル指定"
          type: "integer"
        - name: "count"
          in: "query"
          description: "お任せの個数指定"
          type: "integer"
        - name: "body"
          in: "body"
          description: "recipe object to add"
          schema:
            type: "object"
            required:
              - "recipeId"
            properties:
              recipeId:
                type: "integer"
                example: 223
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "array"
            items:
              type: "object"
              properties:
                id:
                  type: "integer"
                  example: 1
                name:
                  type: "string"
                  example: "こだわりのハンバーグ"
                thumbnail_url:
                  type: "string"
                  example: "http://hoge.com/aa.png"
                count:
                  type: "integer"
                  example: 1
        "400":
          description: "Bad Request"
        "401":
          description: "Unauthorized"

  /v1/cart/recipes/{cartRecipeID}:
    get:
      tags:
        - "Cart"
      summary: "Get detail recipe in cart"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      parameters:
        - name: "cartRecipeID"
          in: "path"
          description: "Cart Recipe Id"
          required: true
          type: "string"
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "object"
            example:
              {
                "cart_recipe_id": 22,
                "recipe_id": 2233,
                "name": "ハンバーグ",
                "price": 2000,
                "thumbnail_url": "http://hoge.com/aa.png",
                "count": 2,
                "ingredients":
                  [
                    {
                      "ingredient":
                        {
                          "id": 3,
                          "name": "ミンチ",
                          "amount": "100",
                          "unit": "g",
                          "price": 300,
                        },
                      "count": 3,
                    },
                    {
                      "ingredient":
                        {
                          "id": 10,
                          "name": "卵",
                          "amount": "1",
                          "unit": "個",
                          "price": 10,
                        },
                      "count": 2,
                    },
                  ],
              }
        "401":
          description: "Unauthorized"
    put:
      tags:
        - "Cart"
      summary: "Update detail of buying recipe in cart"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      parameters:
        - name: "cartRecipeId"
          in: "path"
          description: "Recipe Id"
          required: true
          type: "string"
        - name: "body"
          in: "body"
          description: "Fields of recipe to update"
          required: true
          schema:
            type: "object"
            example: { "count": 2 }
      responses:
        "200":
          description: "Successful Operation"
        "400":
          description: "Bad Request"
        "401":
          description: "Unauthorized"
        "404":
          description: "Recipe Not Found"
  /v1/cart/recipes/{cartRecipeID}/ingredients:
    put:
      tags:
        - "Cart"
      summary: "Update detail of buying recipe in cart"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      parameters:
        - name: "cartRecipeId"
          in: "path"
          description: "Recipe Id"
          required: true
          type: "string"
        - name: "body"
          in: "body"
          description: "Fields of recipe to update"
          required: true
          schema:
            type: "array"
            example: [{ "id": 33, "count": 2 }, { "id": 3, "count": 1 }]
      responses:
        "200":
          description: "Successful Operation"
        "400":
          description: "Bad Request"
        "401":
          description: "Unauthorized"
        "404":
          description: "Recipe Not Found"

  # -------------------- Order ----------------------
  /v1/orders:
    get:
      tags:
        - "Order"
      summary: "Get all orders"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      parameters:
        - name: "limit"
          in: "query"
          description: "表示件数"
          type: "integer"
        - name: "offset"
          in: "query"
          description: "オフセット"
          type: "integer"
        - name: "since"
          in: "query"
          description: "直近nヶ月"
          type: "integer"
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "array"
            items:
              type: "object"
            example:
              [
                {
                  "id": 1234,
                  "uuid": "xxx-yyy-zzz",
                  "ordered_at": "2021/02/11",
                  "deliveried_at": "2021/02/11",
                  "price": 1200,
                  "recipes":
                    [
                      { "id": 2, "name": "オムレツ" },
                      { "id": 3, "name": "たこ焼き" },
                    ],
                },
                {
                  "id": 3523,
                  "uuid": "xxx-yyy-zzz",
                  "ordered_at": "2021/02/11",
                  "deliveried_at": "2021/02/11",
                  "price": 1200,
                  "recipes":
                    [
                      { "id": 2, "name": "オムレツ" },
                      { "id": 3, "name": "たこ焼き" },
                    ],
                },
              ]
        "401":
          description: "Unauthorized"
    post:
      tags:
        - "Order"
      summary: "注文実行"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "object"
            example:
              {"id": 32, "uuid": "xxx-yy-zzz"}
        "400":
          description: "Bad Request"
        "401":
          description: "Unauthorized"

  /v1/orders/{orderID}:
    get:
      tags:
        - "Order"
      summary: "detail orders"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      parameters:
        - name: "orderID"
          required: true
          in: "path"
          description: "orderID"
          type: "integer"
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "object"
            example:
              {
                "orderId": "1234",
                "ordered_at": "2021/02/11",
                "deliveried_at": "2021/02/11",
                "price": 1200,
                "recipes":
                  [
                    {
                      "id": 2,
                      "name": "オムレツ",
                      "ingredients":
                        [
                          {
                            "ingredient":
                              {
                                "id": 3,
                                "name": "ミンチ",
                                "amount": "100",
                                "unit": "g",
                                "price": 300,
                              },
                            "count": 3,
                          },
                          {
                            "ingredient":
                              {
                                "id": 3,
                                "name": "卵",
                                "amount": "100",
                                "unit": "g",
                                "price": 300,
                              },
                            "count": 3,
                          },
                        ],
                    },
                    {
                      "id": 3,
                      "name": "たこ焼き",
                      "ingredients":
                        [
                          {
                            "ingredient":
                              {
                                "id": 3,
                                "name": "ミンチ",
                                "amount": "100",
                                "unit": "g",
                                "price": 300,
                              },
                            "count": 3,
                          },
                          {
                            "ingredient":
                              {
                                "id": 3,
                                "name": "卵",
                                "amount": "100",
                                "unit": "g",
                                "price": 300,
                              },
                            "count": 3,
                          },
                        ],
                    },
                  ],
              }

        "401":
          description: "Unauthorized"
  # -------------------- Favorite ----------------------
  /v1/like:
    get:
      tags:
        - "Favorite"
      summary: "Get all favorite recipes"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "array"
            items:
              type: "object"
              properties:
                id:
                  type: "integer"
                  example: 1
                name:
                  type: "string"
                  example: "こだわりのハンバーグ"
                information:
                  type: "string"
                  example: "hogehoge"
                thumbnail_url:
                  type: "string"
                  example: "http://hoge.com/aa.png"
                liked:
                  type: "boolean"
                  example: false
        "401":
          description: "Unauthorized"
    post:
      tags:
        - "Favorite"
      summary: "Add new favorite recipe"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      parameters:
        - name: "body"
          in: "body"
          description: "Recipe ID"
          required: true
          schema:
            type: "object"
            required:
              - "id"
            properties:
              id:
                type: "integer"
                example: 1234
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "object"
            required:
              - "id"
            properties:
              id:
                type: "integer"
                example: 1234
        "400":
          description: "Bad Request"

    delete:
      tags:
        - "Favorite"
      summary: "Delete recipe from favorite recipes"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      parameters:
        - name: "body"
          in: "body"
          description: "Recipe ID"
          required: true
          schema:
            type: "object"
            required:
              - "id"
            properties:
              id:
                type: "integer"
                example: 1234
      responses:
        "200":
          description: "Successful Operation"
        "401":
          description: "Unauthorized"

  # -------------------- Record ----------------------
  /v1/record:
    get:
      tags:
        - "Record"
      summary: "Get all records"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      parameters:
        - name: "limit"
          in: "query"
          description: "表示件数"
          type: "integer"
        - name: "offset"
          in: "query"
          description: "オフセット"
          type: "integer"
        - name: "since"
          in: "query"
          description: "直近nヶ月を返す"
          type: "integer"          
      responses:
        "200":
          description: "successful operation"
          schema:
            type: "array"
            items:
              type: "object"
            example:
              [
                {
                  "recipeId": "1234",
                  "name": "鯛焼き",
                  "created_at": "2021/01/22",
                  "satisfaction": 3,
                  "image_url": "hoge.com/a.png",
                },
                {
                  "recipeId": "3323",
                  "name": "鯛",
                  "created_at": "2021/01/22",
                  "satisfaction": 3,
                  "image_url": "hoge.com/a.png",
                },
              ]
        "401":
          description: "Unauthorized"
    post:
      tags:
        - "Record"
      summary: "Add new record"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      parameters:
        - name: "body"
          in: "body"
          description: "record object to add"
          required: true
          schema:
            type: "object"
            required:
              - "recipe_id"
            properties:
              recipe_id:
                type: "integer"
                example: 1234
              satisfaction:
                type: "integer"
                example: 4
              memo:
                type: "string"
                example: "うまい"
              price:
                type: "integer"
                example: 1300
              image_ids:
                type: "array"
                example: [2, 3]
      responses:
        "200":
          description: "successful operation"
          schema:
            type: "object"
            properties:
              recipeId:
                type: "string"
                example: "1234"
              satisfaction:
                type: "integer"
                example: 4
        "400":
          description: "Bad Request"
        "401":
          description: "Unauthorized"

  /v1/record/media:
    post:
      tags:
        - "Record"
      summary: "Add new image used in records"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      consumes:
        - "multipart/form-data"
      parameters:
        - name: "file"
          in: "formData"
          type: "string"
          description: "Image to upload(binary)"
          required: true
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "object"
            properties:
              id:
                type: "integer"
                example: 1234
        "400":
          description: "Bad Request"
        "401":
          description: "Unauthorized"

  /v1/record/{recordId}:
    get:
      tags:
        - "Record"
      summary: "Get record detail information by record ID"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      produces:
        - "application/json"
      parameters:
        - name: "recordId"
          in: "path"
          description: "Record ID"
          required: true
          type: "string"
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "object"
            example:
              {
                "name": "焼き鳥",
                "recipeId": "1234",
                "image_urls": ["hoge.com/a.png", "hoge.com/b.png"],
                "memo": "うまし",
                "created_at": "2020/02/01",
              }
        "401":
          description: "Unauthorized"
        "404":
          description: "Record not found"

  # -------------------- Jisui-Power ----------------------
  /v1/jisuiPower:
    get:
      tags:
        - "Jisui-Power"
      summary: "Get Jisui-Power"
      description: ""
      operationId: ""
      security:
        - cookieAuth: []
      parameters:
        - name: "since"
          in: "query"
          description: "直近nヶ月を返す"
          type: "integer"

      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "array"
            example: [
            { "date": "2021/01", "cost": 111000, "time": 200 },
            { "date": "2021/02", "cost": 111000, "time": 200 },
            { "date": "2021/03", "cost": 111000, "time": 200 }
            ]
        "401":
          description: "Unauthorized"

  # -------------------- Health ----------------------
  /v1/admin/health:
    get:
      tags:
        - "Health"
      summary: "Health check"
      description: ""
      operationId: ""
      responses:
        "200":
          description: "Successful Operation"
          schema:
            type: "object"
            properties:
              message:
                type: "string"
                example: "Hello Jisui-kun!"
        "404":
          description: "Jisui-kun is dead..."
